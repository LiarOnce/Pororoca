<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:Pororoca.Desktop.ViewModels;assembly=Pororoca.Desktop"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:v="using:Pororoca.Desktop.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i18n="clr-namespace:Pororoca.Desktop.Localization"
    xmlns:AvaloniaEdit="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
    xmlns:controls="clr-namespace:Pororoca.Desktop.Controls;assembly=Pororoca.Desktop"
    mc:Ignorable="d"
    d:DesignWidth="1350"
    d:DesignHeight="700"
    x:Class="Pororoca.Desktop.Views.WebSocketClientMessageView"
    x:CompileBindings="True"
    x:DataType="vm:WebSocketClientMessageViewModel"
    FontSize="14">

  <Grid
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      Margin="24,24,24,24">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Grid
        Grid.Column="0"
        Grid.Row="0"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Top">
      <v:EditableTextBlockView DataContext="{Binding NameEditableTextBlockViewDataCtx}"/>
    </Grid>

    <Grid
        Margin="4,40,4,0"
        Grid.Column="0"
        Grid.Row="1">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>

      <StackPanel
          Grid.Column="0"
          Grid.Row="0"
          Margin="0,12,0,0"
          Orientation="Horizontal">

        <CheckBox
            Content="{i18n:Localize DisableCompressionForThisMessage, Context=WebSocketClientMessage}"
            IsChecked="{Binding DisableCompressionForThisMessage}"/>

        <TextBlock
            TextWrapping="Wrap"
            FontSize="14"
            VerticalAlignment="Center"
            Margin="4,0,0,0"
            Text="{i18n:Localize DisableCompressionForThisMessageTip, Context=WebSocketClientMessage}"
            ToolTip.Placement="Right"
            ToolTip.Tip="{i18n:Localize DisableCompressionExplanation, Context=WebSocketClientMessage}"/>
      </StackPanel>

      <ComboBox
          Grid.Column="0"
          Grid.Row="1"
          Height="40"
          Width="240"
          Margin="0,12,0,0"
          SelectedIndex="{Binding MessageTypeSelectedIndex, Mode=TwoWay}">
        <ComboBoxItem
            IsSelected="{Binding IsMessageTypeTextSelected, Mode=TwoWay}"
            Content="{i18n:Localize MessageTypeText, Context=WebSocketClientMessage}"/>
        <ComboBoxItem
            IsSelected="{Binding IsMessageTypeBinarySelected, Mode=TwoWay}"
            Content="{i18n:Localize MessageTypeBinary, Context=WebSocketClientMessage}"/>
        <ComboBoxItem
            IsSelected="{Binding IsMessageTypeCloseSelected, Mode=TwoWay}"
            Content="{i18n:Localize MessageTypeClose, Context=WebSocketClientMessage}"/>
      </ComboBox>

      <StackPanel
          Grid.Column="0"
          Grid.Row="2"
          Margin="0,12,0,0"
          Orientation="Horizontal">

        <ComboBox
            Height="36"
            Width="120"
            SelectedIndex="{Binding ContentModeSelectedIndex, Mode=TwoWay}">
          <ComboBoxItem
              x:Name="wsScrReqMsgContentModeSelectionRaw"
              IsSelected="{Binding IsContentModeRawSelected, Mode=TwoWay}"
              Content="{i18n:Localize ContentModeRaw, Context=WebSocketClientMessage}"/>
          <ComboBoxItem
              x:Name="wsScrReqMsgContentModeSelectionFile"
              IsSelected="{Binding IsContentModeFileSelected, Mode=TwoWay}"
              Content="{i18n:Localize ContentModeFile, Context=WebSocketClientMessage}"/>
        </ComboBox>

        <ComboBox
            Name="RawContentSyntaxSelector"
            IsVisible="{ReflectionBinding IsSelected, ElementName=wsScrReqMsgContentModeSelectionRaw}"
            Height="36"
            Width="120"
            Margin="12,0,0,0"
            SelectedIndex="{Binding RawContentSyntaxSelectedIndex, Mode=TwoWay}">
          <ComboBoxItem
              IsSelected="{Binding IsRawContentJsonSyntaxSelected, Mode=TwoWay}"
              Content="{i18n:Localize RawContentJsonSyntax, Context=WebSocketClientMessage}"/>
          <ComboBoxItem
              IsSelected="{Binding IsRawContentOtherSyntaxSelected, Mode=TwoWay}"
              Content="{i18n:Localize RawContentOtherSyntax, Context=WebSocketClientMessage}"/>
        </ComboBox>

        <!-- This is for testing syntax colour themes -->
        <!--ComboBox
        Name="RawContentThemeSelector" IsVisible="{ReflectionBinding IsSelected, ElementName=wsScrReqMsgContentModeSelectionRaw}" Height="36" Width="120" Margin="12,0,0,0" /-->

      </StackPanel>


      <AvaloniaEdit:TextEditor
          Name="RawContentEditor"
          Grid.Column="0"
          Grid.Row="3"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Margin="0,12,0,0"
          IsVisible="{ReflectionBinding IsSelected, ElementName=wsScrReqMsgContentModeSelectionRaw}"
          IsReadOnly="False"
          Document="{Binding RawContentTextDocument}"/>

      <StackPanel
          Grid.Column="0"
          Grid.Row="3"
          Margin="0,12,0,0"
          Width="200"
          HorizontalAlignment="Left"
          VerticalAlignment="Stretch"
          Orientation="Vertical"
          IsVisible="{ReflectionBinding IsSelected, ElementName=wsScrReqMsgContentModeSelectionFile}">

        <TextBox
            IsVisible="{ReflectionBinding IsSelected, ElementName=wsScrReqMsgContentModeSelectionFile}"
            HorizontalContentAlignment="Left"
            VerticalContentAlignment="Center"
            Watermark="{i18n:Localize ContentFileSrcPathWatermark, Context=WebSocketClientMessage}"
            Classes="SingleLine"
            Text="{Binding ContentFileSrcPath, Mode=TwoWay}"/>

        <Button
            Margin="0,12,0,0"
            Content="{i18n:Localize ContentFileSearchFile, Context=WebSocketClientMessage}"
            Command="{Binding SearchContentFileCmd}"
            Classes="Primary"/>

      </StackPanel>

    </Grid>

  </Grid>
</UserControl>